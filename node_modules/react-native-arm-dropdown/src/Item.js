import React from 'react';
import { View, Text, TouchableOpacity } from 'react-native';
import DropDown from './index';
import styles from './style';

const Item = props => (
    <View>
        {
            (props.items !== undefined)?(
                <DropDown
                    title={props.title}
                    id={props.id}
                    items={props.items}
                    openItems={props.openItems}
                    onChange={(id, title)=>{
                        props.onChange(id, title);
                    }}
                />
            ):(
                <View
                    style={[styles.p1]}
                    onLayout={(event)=>{
                        if(props.onLayout !== undefined){
                            props.onLayout(event.nativeEvent.layout);
                        }
                    }}
                >
                    <TouchableOpacity
                        activeOpacity={1}
                        style={props.item}
                        onPress={()=>{
                            props.onChange(props.id, props.title, props.drop);
                        }}
                    >
                        {
                            (props.drop)?(
                                <View style={styles.pr1}>
                                    <View style={[styles.caret, (props.droped)?({transform: [{rotateZ: '135deg'}]}):({transform: [{rotateZ: '-45deg'}]})]}></View>
                                </View>
                            ):(null)
                        }
                        <Text style={props.text}>{props.title}</Text>
                    </TouchableOpacity>
                </View>
            )
        }
    </View>
);

export default Item;
